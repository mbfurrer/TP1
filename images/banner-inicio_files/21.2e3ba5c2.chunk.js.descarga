(this["webpackJsonp@galicia/react-nave"]=this["webpackJsonp@galicia/react-nave"]||[]).push([[21],{458:function(e,s,t){},494:function(e,s,t){"use strict";t.r(s),t.d(s,"FrequentQuestions",(function(){return h}));var i=t(0),n=t.n(i),a=t(19),o=t(4),r=t.n(o),l=t(1),d=t(20),c=t(3),p=(t(457),t(15));t(458);const u={"@context":"https://schema.org","@type":"FAQPage"};class h extends l.Container{constructor(e){super(e),this.handleAccordionNavClick=e=>{const s=this.state.expandedItems;let t=[...s];s.includes(e.title)?t=s.filter(s=>s!=e.title):t.push(e.title),this.setState({expandedItems:t})},this.tagClick=(e="",s)=>{Object(c.a)(["Frequent questions",e],c.f.customLink,e+s)},this.panelRefs=e.items.map(()=>n.a.createRef()),this.state={expandedItems:[],singleExpansion:!1},this.handleAccordionNavClick=this.handleAccordionNavClick.bind(this)}componentDidMount(){if(!this.props.isInEditor){var e,s,t,i;let n=window.location.href.split("#"),a=(null===(e=n[1])||void 0===e?void 0:e.split("-"))?null===(s=n[1])||void 0===s?void 0:s.split("-"):"",o=null===(t=a[0])||void 0===t?void 0:t.trim(),r=null===(i=a[1])||void 0===i?void 0:i.trim();if(o===this.props.id){let e=this.props.items.find(e=>{var s;return(null===(s=e.elements.id)||void 0===s?void 0:s.value)===r}),s=this.props.items.indexOf(e);this.panelRefs&&e&&(this.handleAccordionNavClick(e),setTimeout(()=>{this.panelRefs[s].current.focus();const e=this.panelRefs[s].current.getBoundingClientRect().top+window.scrollY-80;Object(p.a)(e,1600)},300))}}}isItemExpanded(e){return this.state.expandedItems.includes(e.title)}isInEditor(e){return this.props.isInEditor?"in-editor"+(e?"--expanded":"--hidden"):""}get accordionContainerProps(){const e=this.containerProps;return e.className=e.className+" "+this.props.baseCssClass,e["data-cmp-is"]="accordion",e["data-panelcontainer"]="accordion",e.id=this.props.id,e}displayItem(e,s){var t,i;const o=null===(t=e.elements)||void 0===t||null===(i=t.answer)||void 0===i?void 0:i.value,l=s?`${this.props.baseCssClass}__panel ${this.props.baseCssClass}__panel--expanded`:`${this.props.baseCssClass}__panel ${this.props.baseCssClass}__panel--hidden`;let d="";return this.props.isInEditor||(d=s?"accordion__transition__expanded":"accordion__transition__hidden"),n.a.createElement("div",{className:`${l} ${this.isInEditor(s)} rteEditor ${d}`,role:"region","data-cmp-hook-accordion":"panel","aria-hidden":s,dangerouslySetInnerHTML:{__html:r()(o,a.a)}})}renderHeadingButton(e,s,t){var i,o;const l=t?" Cerrar":" Abrir";return n.a.createElement("button",{className:`${s} ${this.isInEditor(t)}`,onClick:()=>{var s,t;this.handleAccordionNavClick(e),this.tagClick(r()(null===(s=e.elements)||void 0===s||null===(t=s.question)||void 0===t?void 0:t.value,a.a),l)},"data-cmp-hook-accordion":"button"},n.a.createElement("h3",{className:this.props.baseCssClass+"__title body-l",dangerouslySetInnerHTML:{__html:r()(null===(i=e.elements)||void 0===i||null===(o=i.question)||void 0===o?void 0:o.value,a.a)}}),t?n.a.createElement("div",null,n.a.createElement("i",{className:this.props.baseCssClass+"__icon icon-menos icon-transition"})):n.a.createElement("i",{className:this.props.baseCssClass+"__icon icon-mas icon-transition"}))}renderTitle(e){return n.a.createElement("div",{className:this.props.baseCssClass+"__header"},e)}generateStructuringData(){let e=[...this.props.items],s=[];return e.map(e=>{var t,i,n,a;let o={"@type":"Question"};o.name=null===(t=e.elements)||void 0===t||null===(i=t.question)||void 0===i?void 0:i.value,o.acceptedAnswer={"@type":"Answer",text:null===(n=e.elements)||void 0===n||null===(a=n.answer)||void 0===a?void 0:a.value},s.push(o)}),u.mainEntity=s,n.a.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(u)}})}get accordionContent(){let e=[...this.props.items];return e.sort((function(e,s){var t,i,n,a;return(null===(t=e.elements)||void 0===t||null===(i=t.order)||void 0===i?void 0:i.value)-(null===(n=s.elements)||void 0===n||null===(a=n.order)||void 0===a?void 0:a.value)})),!this.props.items[0].elements.order&&!this.props.items[0].elements.answer&&!this.props.items[0].elements.question?this.props.isInEditor?n.a.createElement("div",{className:"cq-Overlay--placeholder"},"Preguntas Frecuentes"):null:e.map((e,s)=>{var t,i;const a=this.state.expandedItems.includes(e.title),o=a?`${this.props.baseCssClass}__button ${this.props.baseCssClass}__button--expanded`:this.props.baseCssClass+"__button",r=this.props.baseCssClass;return n.a.createElement("div",{key:"accordion-index "+s,style:{backgroundColor:null===(t=this.props)||void 0===t||null===(i=t.frequentQuestions)||void 0===i?void 0:i.backgroundcolor},className:`${this.props.baseCssClass}__item ${r}`,"data-cmp-index":s,"data-cmp-expanded":a,ref:this.panelRefs[s]},this.renderTitle(this.renderHeadingButton(e,o,a)),this.displayItem(e,a))})}render(){var e,s;const t=0===(null===(e=this.props)||void 0===e||null===(s=e.items)||void 0===s?void 0:s.length);return n.a.createElement("section",this.accordionContainerProps,t&&this.props.isInEditor&&n.a.createElement("div",{class:"cq-Overlay--placeholder"},"Preguntas Frecuentes"),!t&&this.accordionContent,!this.props.isInEditor&&this.generateStructuringData(),this.placeholderComponent)}}s.default=Object(d.withStandardBaseCssClass)(h,"cmp-accordion")}}]);
//# sourceMappingURL=21.2e3ba5c2.chunk.js.map