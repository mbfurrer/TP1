(this["webpackJsonp@galicia/react-nave"]=this["webpackJsonp@galicia/react-nave"]||[]).push([[24],{454:function(o,i,n){},491:function(o,i,n){"use strict";n.r(i),n.d(i,"PromotionalBanner",(function(){return f}));var e=n(0),t=n.n(e),r=n(19),l=n(4),s=n.n(l),a=n(6),d=(n(454),n(9)),p=n(2),u=n(1),v=n(5),c=n(15);const m=o=>(o||"").toLowerCase(),h=(o,i)=>m(o).includes(m(i)),g=o=>o?encodeURI(o):"",b=(o,i)=>{if(!o)return!1;return String(o).split("?")[0].toLowerCase().endsWith(i.toLowerCase())};class f extends e.Component{constructor(o){super(o),this.state={componentMapping:this.props.componentMapping||u.ComponentMapping,isFullWidth:!1,fullWidthId:this.props.id,fullWidthClass:null},this.timerRef=t.a.createRef(),this.mainDiv=t.a.createRef()}renderButton(o){var i,n,e,r;const l=(null===(i=this.props)||void 0===i||null===(n=i.appliedCssClassNames)||void 0===n?void 0:n.split(" "))||null,s=(null===l||void 0===l?void 0:l.filter(o=>o.startsWith("button_")).join(" "))||"",{buttonProps:a,type:d}=o;return t.a.createElement(p.a,{className:`btn ${d} ${null===a||void 0===a?void 0:a.buttonColor} ${null===a||void 0===a?void 0:a.alignment} ${s}`,to:null===a||void 0===a?void 0:a.url,target:null===a||void 0===a?void 0:a.target,componentTree:["Banner Promocional",null===(e=this.props)||void 0===e||null===(r=e.promotionalBanner)||void 0===r?void 0:r.title],label:null===a||void 0===a?void 0:a.text},(null===a||void 0===a?void 0:a.iconfont)&&t.a.createElement("i",{className:""+(null===a||void 0===a?void 0:a.iconfont)}),null===a||void 0===a?void 0:a.text)}componentDidMount(){this.mainDiv.current&&(this.mainDiv.current.setAttribute("style",this.props.backgroundStyle),this.deleteBorder());let o=this.props.id;if(this.props.appliedCssClassNames){const i=this.isAppliedCssClassName(this.props.appliedCssClassNames,"pb--container--fullwidth");i&&(o=this.props.id+"--fullwidth",this.setState({isFullWidth:i,fullWidthId:this.props.id+"--fullwidth",fullWidthClass:"pb--container--fullwidth"}))}const{scrollIntoView:i}=Object(c.b)(o,this.props.isInEditor);this.timerRef.current=i()}componentWillUnmount(){this.timerRef.current&&clearTimeout(this.timerRef.current)}isAppliedCssClassName(o,i){return null===o||void 0===o?void 0:o.includes(i)}get coreContainerProps(){var o;let i=this.isAppliedCssClassName(this.props.appliedCssClassNames,"pb--container--fullwidth"),n=i?this.state.fullWidthClass:"pb--container--simple ";return n+=(null===(o=this.context)||void 0===o?void 0:o.isMobile)&&i?"pb--container--fullwidth":"",{className:"promotionalbanner pm-container responsivegrid "+n,id:""+(this.state.fullWidthId||"")}}renderImageBackground(o,{preferWebp:i=!0}={}){var n;if(!o)return"";const e=o.renditions,t=Array.isArray(e)?e:[],r=o.path||"",l=b(r,".webp"),s=b(r,".png"),a=o=>{if(!t.length)return;const n=t.filter(i=>((o,i)=>{const n=String(o).split("?")[0].toLowerCase(),e=String(i).toLowerCase().replace(/\.$/,"");return n.includes(e+".")||n.includes(e+"-")})(i,o));if(!n.length)return;if(i){const o=n.find(o=>b(o,".webp")||h(o,"-webp"));if(o)return o}const e=n.find(o=>b(o,".jpg")||b(o,".jpeg")||h(o,"-jpg")||h(o,"-jpeg"));if(e)return e;const r=n.find(o=>b(o,".png")||h(o,"-png"));return r||n[0]},d=t.find(o=>b(o,".webp")),p=t.find(o=>b(o,".jpg")||b(o,".jpeg")),u=t.find(o=>b(o,".png")),v=o=>{return o?l&&(b(i=o,".jpg")||b(i,".jpeg"))||s&&(o=>b(o,".png"))(o)?g(r):g(o):null;var i};if(null===(n=this.context)||void 0===n?void 0:n.isMobile){const o=a("Galicia-Mobile.");if(o)return v(o);const i=a("Galicia-Desktop.");if(i)return v(i)}else{const o=a("Galicia-Desktop.");if(o)return v(o);if(r)return g(r);const i=a("Galicia-Mobile.");if(i)return v(i)}return g(d||(p||(u||r)))}applyStyle(o,i){var n,e;return(null===o||void 0===o?void 0:o.name)&&(null===o||void 0===o?void 0:o.path)&&!(null===(n=this.context)||void 0===n?void 0:n.isMobile)?{backgroundImage:`url(${this.renderImageBackground(o,{preferWebp:!0})})`,backgroundSize:"cover",backgroundRepeat:"no-repeat"}:(null===i||void 0===i?void 0:i.name)&&(null===i||void 0===i?void 0:i.path)&&(null===(e=this.context)||void 0===e?void 0:e.isMobile)?{backgroundImage:`url(${this.renderImageBackground(i,{preferWebp:!0})})`,backgroundSize:"cover",backgroundRepeat:"no-repeat"}:null}renderBorderColor(){const o=this.isAppliedCssClassName(this.props.appliedCssClassNames,"pb-color-border"),i=this.isAppliedCssClassName(this.props.appliedCssClassNames,"pb--container--fullwidth");var n,e,t,r;return o&&i?{border:"2px solid "+(null===(n=this.props)||void 0===n||null===(e=n.promotionalBanner)||void 0===e?void 0:e.borderColor),borderLeft:"none",borderRight:"none"}:o?{border:"2px solid "+(null===(t=this.props)||void 0===t||null===(r=t.promotionalBanner)||void 0===r?void 0:r.borderColor)}:void 0}render(){var o,i,n,e,l,p,u,v,c,m,h,g,b,f,C,B,y,N,k,w,I,W,x,E,M,j,R,S,A,$,D,L,P,T,_,G,z,F;const J=null===(o=this.props)||void 0===o||null===(i=o.promotionalBanner)||void 0===i||null===(n=i.logoImage)||void 0===n?void 0:n.path,O=null===(e=this.props)||void 0===e||null===(l=e.promotionalBanner)||void 0===l||null===(p=l.primaryButton)||void 0===p?void 0:p.url,U=this.applyStyle(null===(u=this.props)||void 0===u||null===(v=u.promotionalBanner)||void 0===v?void 0:v.backgroundImageDesktop,null===(c=this.props)||void 0===c||null===(m=c.promotionalBanner)||void 0===m?void 0:m.backgroundImageMobile);return t.a.createElement("section",Object.assign({},this.coreContainerProps,{style:U?{...U,...this.renderBorderColor()}:{backgroundColor:null===(h=this.props)||void 0===h||null===(g=h.promotionalBanner)||void 0===g?void 0:g.backgroundColor,...this.renderBorderColor()}}),t.a.createElement("div",{className:"promobanner-container cmp-container g-container "},J&&t.a.createElement("div",{className:"promobanner-image"},t.a.createElement(a.c,{image:null===(b=this.props)||void 0===b||null===(f=b.promotionalBanner)||void 0===f?void 0:f.logoImage})),t.a.createElement("div",{className:`promobanner-text-area ${null===(C=this.props)||void 0===C||null===(B=C.promotionalBanner)||void 0===B?void 0:B.textAlign} promobanner-description-image ${O?"":"no-button"}`},(null===(y=this.props)||void 0===y||null===(N=y.promotionalBanner)||void 0===N?void 0:N.title)&&t.a.createElement(d.a,{tag:null===(k=this.props)||void 0===k||null===(w=k.promotionalBanner)||void 0===w?void 0:w.titleType,title:null===(I=this.props)||void 0===I||null===(W=I.promotionalBanner)||void 0===W?void 0:W.title,className:"heading__title",style:(null===(x=this.props)||void 0===x||null===(E=x.promotionalBanner)||void 0===E?void 0:E.titleColor)?{color:null===(M=this.props)||void 0===M||null===(j=M.promotionalBanner)||void 0===j?void 0:j.titleColor}:{},htmlPermission:!0}),(null===(R=this.props)||void 0===R||null===(S=R.promotionalBanner)||void 0===S?void 0:S.description)&&t.a.createElement("div",{className:"promobanner-description rteEditor",dangerouslySetInnerHTML:{__html:s()(null===(A=this.props)||void 0===A||null===($=A.promotionalBanner)||void 0===$?void 0:$.description,r.a)}})),(null===(D=this.props)||void 0===D||null===(L=D.promotionalBanner)||void 0===L||null===(P=L.primaryButton)||void 0===P?void 0:P.url)&&t.a.createElement("div",{className:"promobanner-button"},(null===(T=this.props)||void 0===T||null===(_=T.promotionalBanner)||void 0===_||null===(G=_.primaryButton)||void 0===G?void 0:G.url)&&this.renderButton({buttonProps:null===(z=this.props)||void 0===z||null===(F=z.promotionalBanner)||void 0===F?void 0:F.primaryButton,type:"primary"}))))}}f.contextType=v.a,i.default=f}}]);
//# sourceMappingURL=24.f77a1ee9.chunk.js.map