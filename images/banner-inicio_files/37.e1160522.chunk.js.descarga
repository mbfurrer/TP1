(this["webpackJsonp@galicia/react-nave"]=this["webpackJsonp@galicia/react-nave"]||[]).push([[37],{463:function(e,i,l){},511:function(e,i,l){"use strict";l.r(i);var t=l(0),o=l.n(t),n=(l(463),l(118)),d=l.n(n);var a=({src:e,height:i,width:l,props:t,title:n="",allow:d=""})=>e?o.a.createElement("iframe",Object.assign({src:e,title:n,frameBorder:"0",style:{height:i,width:l},height:i,width:l,allow:d,autoFocus:!0},t)):null,v=l(190),r=l.n(v),u=l(2);const s=(e,i)=>{if(null!==i&&void 0!==i)return i};var c=l(19),m=l(4),p=l.n(m),g=l(9),h=l(6),b=l(3),y=l(5),w=l(1),E=l(28),M=l(15);i.default=e=>{var i,l,n,v,m,N,f,C,O,_,j,k,x,S,I,T,B,L,A,D,$,F,J,P,z,G,U,q,H,V;const[X,K]=Object(t.useState)(!1),[W,Z]=Object(t.useState)({eyebrow:"",title:"",description:"",idvideo:"",autoplay:!1,desktop:{order:"video-text"},titleType:"h2"}),[R,Y]=Object(t.useState)({isCustom:!1,XF:o.a.createElement(o.a.Fragment,null)}),[Q,ee]=Object(t.useState)({title:null,alt:null,views:null,duration:null}),[ie,le]=Object(t.useState)({alt:null,title:null,path:null,name:null,renditions:null}),{isMobile:te}=Object(t.useContext)(y.a),oe=i=>{if(i.detail){let{moduleId:l,pathXF:t}=i.detail;l&&t&&l===e.id&&(e=>{E.ModelManager.getData(e+"/jcr:content/root").then(i=>{if(i[":type"].includes("wcm"))throw new Error("error al cargar xf "+e);{let l=o.a.createElement(w.ResponsiveGrid,{cqPath:e+"/jcr:content/root",cqItems:i[":items"],cqItemsOrder:i[":itemsOrder"],gridClassNames:i.gridClassNames});Y({isCustom:!0,XF:l})}}).catch(e=>console.error(e))})(t)}},{scrollIntoView:ne}=Object(M.b)(e.id,e.isInEditor);Object(t.useEffect)(()=>{var i;(null===e||void 0===e||null===(i=e.videoModule)||void 0===i?void 0:i.idvideo)&&se()},[null===e||void 0===e||null===(i=e.videoModule)||void 0===i?void 0:i.idvideo,null===e||void 0===e||null===(l=e.videoModule)||void 0===l?void 0:l.image]),Object(t.useEffect)(()=>{ae(),document.addEventListener("keydown",de,!1),window.addEventListener("change-xf",oe,!1);const e=ne();return()=>{document.removeEventListener("keydown",de,!1),window.removeEventListener("change-xf",oe,!1),e&&clearTimeout(e)}},[]);const de=Object(t.useCallback)(e=>{"Escape"===e.key&&K(!1)},[]),ae=()=>{const i=r()(W,JSON.parse(JSON.stringify(e.videoModule,s)));Z(i)},ve=()=>{K(!X),X||re()},re=()=>{var i,l;Object(b.a)(["Video Module",(null===e||void 0===e||null===(i=e.videoModule)||void 0===i?void 0:i.title)||(null===Q||void 0===Q?void 0:Q.title)],b.f.customLink,(null===e||void 0===e||null===(l=e.videoModule)||void 0===l?void 0:l.title)||(null===Q||void 0===Q?void 0:Q.title))},ue=e=>{try{return(e.match(/(\d+)(?=[MHS])/gi)||[]).map((function(e){return e.length<2?"0"+e:e})).join(":")}catch(i){return null}},se=()=>{let i=(()=>{var i;return"https://www.googleapis.com/youtube/v3/videos?id="+(null===(i=e.videoModule)||void 0===i?void 0:i.idvideo)+"&key=AIzaSyD-3P9qsZ9J5AT8vAbAUf77YPjrd640_WM&part=snippet,contentDetails,statistics,status"})();return fetch(i,{method:"GET"}).then(e=>{if(403===e.status)throw new Error("Service error");return e.json()}).then(e=>{var i,l,t,o,n,d,a,v,r,u,s,c,m,p,g,h,b,y,w;(null===e||void 0===e||null===(i=e.items)||void 0===i?void 0:i.length)>0&&(le({alt:null===e||void 0===e||null===(l=e.items[0])||void 0===l||null===(t=l.snippet)||void 0===t?void 0:t.title,title:null===e||void 0===e||null===(o=e.items[0])||void 0===o||null===(n=o.snippet)||void 0===n?void 0:n.title,path:null===e||void 0===e||null===(d=e.items[0])||void 0===d||null===(a=d.snippet)||void 0===a||null===(v=a.thumbnails)||void 0===v||null===(r=v.high)||void 0===r?void 0:r.url,name:null===e||void 0===e||null===(u=e.items[0])||void 0===u||null===(s=u.snippet)||void 0===s?void 0:s.title,renditions:null}),ee({title:null===e||void 0===e||null===(c=e.items[0])||void 0===c||null===(m=c.snippet)||void 0===m?void 0:m.title,views:null===e||void 0===e||null===(p=e.items[0])||void 0===p||null===(g=p.statistics)||void 0===g?void 0:g.viewCount,duration:ue(null===e||void 0===e||null===(h=e.items[0])||void 0===h||null===(b=h.contentDetails)||void 0===b?void 0:b.duration),alt:null===e||void 0===e||null===(y=e.items[0])||void 0===y||null===(w=y.snippet)||void 0===w?void 0:w.title}))}).catch(i=>{var l;le(null===(l=e.videoModule)||void 0===l?void 0:l.image)})},ce=(null===e||void 0===e||null===(n=e.appliedCssClassNames)||void 0===n?void 0:n.split(" "))||null,me=({url:i,target:l,text:t,type:n,buttonColor:d,alignment:a,iconfont:v})=>{var r,s;return o.a.createElement(u.a,{to:i,target:l,className:`btn ${n} ${a} ${d} ${ce}`,componentTree:["Video Module",(null===e||void 0===e||null===(r=e.videoModule)||void 0===r?void 0:r.title)||(null===Q||void 0===Q?void 0:Q.title)],label:t,isCustomEvent:null===(s=e.videoModule)||void 0===s?void 0:s.custom},v&&o.a.createElement("i",{className:""+v}),t)},pe=!(!(null===(v=e.videoModule)||void 0===v||null===(m=v.primaryButton)||void 0===m?void 0:m.url)&&!(null===(N=e.videoModule)||void 0===N||null===(f=N.secondaryButton)||void 0===f?void 0:f.url)),ge=e=>{const i=e.keyCode?e.keyCode:e.which;13!==i&&32!==i||!1!==X||ve()};if(R.isCustom)return R.XF;return o.a.createElement("div",{id:e.id,className:e.videoModule.onlyvideo?" vm-container-onlyvideo":` vm-container vm-container--${null===(C=e.videoModule)||void 0===C||null===(O=C.desktop)||void 0===O?void 0:O.order} ${null===e||void 0===e?void 0:e.appliedCssClassNames}`,style:{backgroundColor:null===e||void 0===e||null===(_=e.videoModule)||void 0===_?void 0:_.backgroundcolor}},!e.isInEditor&&(()=>{var i;const{title:l,description:t,image:n,videoUploadDate:d,videoDuration:a,idvideo:v}=e.videoModule,r=Object(g.i)(a),u={"@context":"https://schema.org","@type":"VideoObject"};return l&&(u.name=l),t&&(u.description=p()(null===(i=e.videoModule)||void 0===i?void 0:i.description,{allowedTags:c.a.allowedTags,allowedAttributes:c.a.allowedAttributes})),(null===n||void 0===n?void 0:n.path)&&(u.thumbnailUrl=(null===n||void 0===n?void 0:n.renditions)?null===n||void 0===n?void 0:n.renditions:[null===n||void 0===n?void 0:n.path]),d&&(u.uploadDate=d),r&&(u.duration=r),v&&(u.contentUrl="https://www.youtube.com/watch?v="+v),v&&(u.embedUrl="https://www.youtube.com/embed/"+v),(null===Q||void 0===Q?void 0:Q.views)&&(u.interactionStatistic={"@type":"InteractionCounter",interactionType:{"@type":"WatchAction"},userInteractionCount:Number(null===Q||void 0===Q?void 0:Q.views)}),o.a.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(u)}})})(),o.a.createElement("div",{className:"vm-container_video_wrapper"},o.a.createElement("div",{className:"vm-container_video_background image"},ie.path&&o.a.createElement(h.c,{isDisableZoom:!!(null===e||void 0===e||null===(j=e.videoModule)||void 0===j?void 0:j.iszoomdisabled),image:ie})),o.a.createElement("div",{className:"vm-container_video "+((null===e||void 0===e||null===(k=e.videoModule)||void 0===k?void 0:k.iszoomdisabled)?"":"zoom-enabled"),onClick:ve,onKeyPress:ge,role:"img","aria-label":Q.alt,tabIndex:"0"},o.a.createElement("div",{className:"vm-container_button-play"},o.a.createElement("i",{className:"icon-play"})),Q.title&&o.a.createElement("div",{className:"vm-container_title"},Q.title),o.a.createElement("div",{className:"vm-container_galicia"},o.a.createElement("div",{className:"vm-container_galicia-icon "+((null===e||void 0===e||null===(x=e.videoModule)||void 0===x||null===(S=x.logo)||void 0===S?void 0:S.path)?"":"bg-white")},(null===e||void 0===e||null===(I=e.videoModule)||void 0===I||null===(T=I.logo)||void 0===T?void 0:T.path)?o.a.createElement(h.c,{image:null===e||void 0===e||null===(B=e.videoModule)||void 0===B||null===(L=B.logo)||void 0===L?void 0:L.path}):o.a.createElement("img",{src:"/etc.clientlibs/galicia/clientlibs/clientlib-react/resources/img/icons/logo_footer.png",title:"Logo Banco Galicia",alt:"Logo Banco Galicia"})),o.a.createElement("div",{className:"vm-container_galicia-text"},o.a.createElement("div",{className:"vm-container_galicia-title"},(null===e||void 0===e||null===(A=e.videoModule)||void 0===A?void 0:A.logotitle)||"Galicia"),Q.views&&o.a.createElement("div",{className:"vm-container_galicia-views"},Number(Q.views).toLocaleString()," vistas"))),Q.duration&&o.a.createElement("div",{className:"vm-container_galicia-time"},Q.duration),o.a.createElement(d.a,{className:"modal-video",isOpen:X,ariaHideApp:!1,style:{overlay:{backgroundColor:"rgba(0,0,0,.75)",zIndex:"9999"},content:{background:"transparent",border:"0px"}},shouldCloseOnOverlayClick:!0,onKeyPress:ge},o.a.createElement("button",{className:"modal-close",onClick:ve}),o.a.createElement(a,{src:"https://www.youtube.com/embed/"+(null===(D=e.videoModule)||void 0===D?void 0:D.idvideo)+((null===($=e.videoModule)||void 0===$?void 0:$.autoplay)?"?autoplay=1":""),allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",title:"title",width:"80%",height:"80%",allowfullscreen:!0,autoFocus:!0})))),(null===(F=e.videoModule)||void 0===F?void 0:F.onlyvideo)?null:o.a.createElement("div",{className:`${pe?"":"vm-container_content"} vm-container_content_hasButton ${(null===e||void 0===e||null===(J=e.videoModule)||void 0===J?void 0:J.centerContent)?"vm-container--centerContent":""}`},o.a.createElement("div",{className:"content-text"},o.a.createElement("div",{className:"text-area"},o.a.createElement("div",{className:"text-heading"},o.a.createElement("div",{className:"heading-eyebrow eyebrow"},null===e||void 0===e||null===(P=e.videoModule)||void 0===P?void 0:P.eyebrow),o.a.createElement(g.a,{tag:null===W||void 0===W?void 0:W.titleType,title:null===e||void 0===e||null===(z=e.videoModule)||void 0===z?void 0:z.title,style:(()=>{var i,l;if(null===(i=e.videoModule)||void 0===i?void 0:i.titlecolor)return{color:null===(l=e.videoModule)||void 0===l?void 0:l.titlecolor}})(),className:"heading-title",htmlPermission:!0})),o.a.createElement("div",{className:"text-paragraph rteEditor",dangerouslySetInnerHTML:{__html:null===e||void 0===e||null===(G=e.videoModule)||void 0===G?void 0:G.description}}))),pe&&o.a.createElement("div",{className:"content-actions"},(null===(U=e.videoModule)||void 0===U||null===(q=U.primaryButton)||void 0===q?void 0:q.url)&&me({...e.videoModule.primaryButton,type:"primary"}),(null===(H=e.videoModule)||void 0===H||null===(V=H.secondaryButton)||void 0===V?void 0:V.url)&&me({...e.videoModule.secondaryButton,type:"secondary"}))))}}}]);
//# sourceMappingURL=37.e1160522.chunk.js.map